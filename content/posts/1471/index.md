---
aliases:
- /archives/1471
categories:
- Windows
date: 2020-05-01 05:28:26+00:00
draft: false
title: 让Windows10更好用——强迫症精简和优化
---

众所周知，Windows 10是巨硬出品的一个被骂无数的操作系统，一边我们不得不承认Windows 10确实相比以前的8、7、XP等提供了更多有价值的功能升级，但是也不可否认其稳定性问题——故障率相当高，尤其是自带的Windows Update强制自动更新，收割了一大批忠实的用户。本文是博主我在几乎所有的Windows版本跳了一遍之后，得出的一些优化方向，分享出来希望大家都好用

## 注意

**萝卜白菜各有所爱，请不要来和我抬杠争论设置不合理什么的，结合自己的硬件水平和需求综合评估后再考虑系统优化的方向，这才是正确的做法。对于没有提到的其他有价值的操作，也欢迎和我分享哈~**

希望各位在看到本文时，理性结合自己的实际需求和硬件条件，再修改系统相关设置，请不要一路完全参照我的配置方式走下来，因为这只是适合我自己的，可能他对于你的需求并不合适。

## 更新

本文不断更新

最后一次更新时间：2020年5月1日

## 情景

### 设备配置

笔记本电脑：HP bc219tx

CPU：i7-7700HQ；内存：8G*2 DDR4 HyperX；硬盘：SM961 512G + 希捷2T PMR（具体型号我也忘了）；显卡：GTX1050

### 需求场景

一般是开发使用，外接显示器是不可避免的，一般是接4k。不怎么游戏，以稳定性为主，不过多关注性能

## 版本选择

我从Win10的起初的1511版本一路用到了现在的1909，期间因为更新导致系统故障过至少5次，解决方式都是重装了。来回在多个版本间徘徊，发现桌面版的系统，对于稳定性和纯净度要求均满足的，首选LTSB/LTSC，其次是教育版。

LTSB/LTSC在网上看到的说法是面向企业用户的，不会强制更新，没有那么操蛋（想想你写好的东西还没保存，出去办点事回来发现电脑帮你重启更新了）；而教育版并不是LTSB/LTSC，因此功能上会比LTSB/LTSC多出应用商店和UWP这些支持，也会有自动更新，但是看到网上的说法，教育版的不会预装其他UWP应用。

博主我现在用的是LTSB 2016，发现想稳定使用，最好就找微软即将或者已经停止功能性更新支持的系统，LTSB 2016无疑是最佳选择，不过即便是安全更新，个人觉得也可有可无，装一个ESET Internet Security后不乱下东西，这么多年来还没有出过安全问题。之所以不选择1511，是因为之前安装驱动的时候提示不再支持，因此使用1511要做好没有显卡驱动更新支持的心理准备。

## 部署安装

建议进入WinPE使用工具进行部署，不推荐使用Windows的安装程序，很多脱裤子放屁的操作。而且使用部署工具的情况下，可以直接部署wim，wim文件可以事先使用Dism++进行定制和优化，比较适合重度强迫症患者。

在WinPE下，使用DiskGenius调整系统分区，只需要给ESP（即EFI分区）、MSR（即恢复分区）、系统分区这三个即可，ESP建议512M左右（尤其是多系统的，分大点可以直接备份EFI目录在这个分区内，因为Windows10很多情况下自动更新的情况下会把grub搞崩），MSR能少分就少分，但是不可以不给。

部署可选是否使用Compact，至于是否使用Compact要仔细考虑：如果你的存储介质比较慢，造成的IO等待比较久，那么建议打开Compact，可以帮你节省IO等待，从而抵冲CPU的压缩时钟开销，还能节省存储空间；如果你的存储不成为瓶颈，那么建议不要打开Compact，因为CPU的时钟开销对IO等待造成的提升不大，除非你的存储介质非常宝贵愿意接受性能损失换来的空间节省。

## 关于1909更新后的bug

个人觉得1909更新后，在内存管理上存在较为明显的bug，一个很严重的问题就是——Cache不会自动回收，因此会频繁触发OOM，导致几乎无法稳定使用，经过N多尝试无效我才装回了LTSB 2016。在LTSB 2016中完全没有这个问题，然而在1909中非常严重。

## 新系统的优化

### 关闭内存压缩

对于大内存用户来说，内存压缩完全没有必要。尤其是16G内存起步的，内存压缩带来的性能损失实在是不划算，不过在Windows上似乎还不是很显著，在Android上相当显著。一般建议，内存足够大的，关闭内存压缩

对于19xx的用户，Windows10似乎默认开启了内存压缩，需要手动关掉；而我用的LTSB 2016默认缺没有开启（也可能是我禁用了预读）

### 关闭预读

对于固态磁盘的用户来说，预读建议关闭，因为个人觉得，在固态硬盘中读取本身就不是瓶颈（至少相对HDD来讲），更何况随机读取都比HDD要好很多。开启预读的情况下可能会有一定的内存开销。对于HDD用户可以看情况决定是否关闭，预读可以加快应用加载速度，但是预读过程应该是存在命中率的（不确定），可能会造成磁盘负载较高

### 关闭自动更新

Windows 10以来最蛋疼的功能怕不是就是这个了，自动动心成功收割了一大批用户，我认识好多朋友都因为受到Windows10的自动更新转而投奔使用苹果去了。

实测关闭自动更新的方法，就是在服务项里把服务禁用掉，同时凭据那里使用Guest启动，失败操作选择无操作，还是有效果的。然后下载WAU Manager，使用其接管Windows自动更新，然后在服务中把遥测服务和诊断、通知推送服务全部关掉，就几乎不用担心会自动更新了。

### 开启Intel TSX

这个指令集其实挺好的，可以大幅提升多核情况下的数据处理效率，可惜因为爆出安全漏洞因为不得不进行处理，有的版本默认关闭，有的版本默认打开。网上看到的说法，会影响40%左右的性能，这个数值怎么来的我也不清楚，反正掏了这么多钱让我放弃40%性能我觉得不划算，要不然我还买你7700HQ干啥？

### 输入法bug

LTSB 2016自带的中文输入法有bug，会导致输入时候有很明显的卡顿，还会遇到输入密码后一直转圈进不了桌面的问题，起初由于卡住的问题使得我还以为是显卡问题，直到排查时发现不对劲，查了查发现是中文输入法的锅。而且最坑爹的是，由于权限问题，似乎还无法直接删除，建议有条件的最好还是进PE删除`C:\Windows\System32\InputMethod\CHS`目录（前提是你已经安装好了其他中文输入法），然后重启后就好了

### 不要使用优化工具

优化应该是结合自己需要进行定向优化，不要下载一堆优化工具去优化，个人觉得潜在风险较大

### 特效

我把特效全关了，显示效果只保留了一个平滑字体边缘，其他的半透明效果全部关掉，实际使用上感觉确实提升还是挺明显的，窗口的打开速度快了很多

### 禁用不必要的右键菜单

右键菜单太多，右键时会有明显的等待

### 禁用不必要的服务

这个`services.msc`自己看吧，包括计划任务也是，很多其实用不上的，可以全部砍了

### 禁用或删除不必要的组件

这个可以通过Dism++来禁用，好比家庭组、错误反馈、兼容性助手、同步文件夹、公文包等

对于XPS浏览器、Hyper-V支持和其他一些组件上的支持，不需要的可以直接卸载掉，如果已经禁用Windows Update的，可以使用Dism++配合安装光盘中的sxs目录进行卸载或者安装

## 推荐装机软件

### 浏览器

浏览器就不说了，对于开发的，Chrome和Firefox必备

### 媒体播放器

推荐VLC或者K-Lite Code解码包二选一，如果你喜欢UWP播放器，建议安装解码包，可以使其支持更多格式

### 图片浏览器

强推ACDSee，这软件一直都有更新的，如果只是看图需要的话安装Free即可，修图我个人一般是用Lr或者PS。ACDSee加载图片比Windows自带的Photos快了太多太多太多。。。。

### 下载

IDM，标配了这个。百度云和迅雷还是不要下了，真要使用建议放在虚拟机里，用完就关，这俩东西真是流氓到家了。尤其是百度，借用鲁迅的那句话“有的人活着，他已经死了”，形容百度最为恰当。搜索引擎个人也建议使用必应或者360搜索（至少360搜索不会出一大堆广告），能使用Google的优选Google

### 杀毒软件

ESET EIS + 火绒，ESET的杀毒软件一定要使用Internet Security（简写就是EIS），NOD32不带防火墙的，Windows自带的防火墙简直就是鸡肋。ESET搭配火绒的话，可以把火绒的实时防护等级改成最低，毕竟火绒强在HIPS上，ESET强在反病毒上，两者结合起来用，顶天。我从小学开始用ESET，一直到现在，十几年期间，我从来没有中过任何病毒，这是大实话（流氓软件还是有的，这个要靠HIPS）。之所以不使用ESET的HIPS，觉得弹窗不是很合理，而且对国内流氓软件很多行为判定不是很合理，也不如火绒那么细致

### 驱动

我看还有很多人在用驱动人生驱动精灵这些，说真的我压根不敢装这些玩意，之前有过一次图省事用了驱动精灵装驱动，结果莫名其妙带上来了个360.。。果断重装系统。建议驱动使用Driver Booster，对于集显驱动和其他可能是OEM的，建议去厂商主页下载，老就老点了，OEM的会稳定很多，对于芯片组驱动和独显驱动，再考虑使用统一安装。